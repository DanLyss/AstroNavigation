package kotlintranslation

import kotlin.math.abs

fun raToDeg(h: Int, m: Int, s: Int): Double {
    return (h * 3600 + m * 60 + s) / 86400.0 * 360.0
}

fun decToDeg(d: Int, m: Int, s: Int): Double {
    val sign = if (d < 0) -1 else 1
    return sign * (abs(d.toDouble()) + m / 60.0 + s / 3600.0)
}

data class TestCase(
    val pixelCoords: List<Pair<Double, Double>>,
    val raDec: List<Pair<Double, Double>>,
    val azAltDeg: List<Pair<Double, Double>>,
    val positionalAngleDeg: Double,
    val rotationAngleDeg: Double,
    val datetime: String,
    val longitude: Double,
    val latitude: Double
)

object TestCases {
    val testCases = listOf(

        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                -83.0 to -157.0,
                -336.0 to -86.0,
                -334.0 to 64.0,
                -476.0 to 178.0,
                -584.0 to 279.0,
                60.0 to 261.0,
                346.0 to -81.0,
                241.0 to -196.0,
                584.0 to -172.0
            ),
            raDec = listOf(
                (raToDeg(11, 3, 46) to decToDeg(61, 44, 40)),
                (raToDeg(11, 1, 53) to decToDeg(56, 22, 34)),
                (raToDeg(11, 53, 52) to decToDeg(53, 41, 21)),
                (raToDeg(12, 15, 27) to decToDeg(57, 1, 39)),
                (raToDeg(12, 54, 3) to decToDeg(55, 57, 20)),
                (raToDeg(13, 25, 57) to decToDeg(54, 55, 18)),
                (raToDeg(11, 31, 25) to decToDeg(69, 19, 29)),
                (raToDeg(9, 31, 36) to decToDeg(63, 3, 17)),
                (raToDeg(9, 51, 3) to decToDeg(59, 1, 54)),
                (raToDeg(8, 30, 20) to decToDeg(60, 42, 41))
            ),
            azAltDeg = listOf(
                (156.62861111111113 to 30.499722222222225),
                (153.88222222222223 to 25.709722222222222),
                (145.24777777777777 to 27.378888888888888),
                (144.77972222222223 to 31.885555555555555),
                (139.1975 to 34.67388888888889),
                (134.66222222222223 to 37.006388888888885),
                (158.88333333333333 to 38.36666666666667),
                (168.39194444444445 to 27.551666666666666),
                (164.595 to 24.386666666666667),
                (175.7925 to 23.97583333333333)
            ),
            positionalAngleDeg = 30.499722222222225,
            rotationAngleDeg = 0.0,
            datetime = "2001-09-11T22:00:00+02:00",
            longitude = 8.8036,
            latitude = 53.0577
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                370.0 to -44.0,
                474.0 to -64.0,
                159.0 to 372.0,
                -432.0 to 34.0,
                -688.0 to 12.0,
                -575.0 to -122.0,
                -623.0 to -351.0,
                89.0 to -196.0,
                224.0 to 333.0
            ),
            raDec = listOf(
                (raToDeg(23, 3, 52) to decToDeg(28, 5, 32)),
                (raToDeg(22, 50, 5) to decToDeg(24, 36, 40)),
                (raToDeg(22, 46, 37) to decToDeg(23, 34, 31)),
                (raToDeg(22, 43, 5) to decToDeg(30, 13, 50)),
                (raToDeg(23, 22, 0) to decToDeg(31, 49, 18)),
                (raToDeg(23, 34, 43) to decToDeg(33, 30, 23)),
                (raToDeg(23, 34, 3) to decToDeg(31, 20, 4)),
                (raToDeg(23, 44, 5) to decToDeg(29, 22, 14)),
                (raToDeg(23, 7, 12) to decToDeg(25, 28, 40)),
                (raToDeg(22, 41, 51) to decToDeg(29, 19, 2))
            ),
            azAltDeg = listOf(
                (287.78833333333336 to 47.99055555555556),
                (294.5875 to 47.20277777777778),
                (296.425 to 46.840833333333336),
                (291.0161111111111 to 52.55888888888889),
                (279.68555555555554 to 48.1),
                (275.09916666666663 to 47.394999999999996),
                (277.4888888888889 to 45.96388888888889),
                (277.1958333333333 to 43.04972222222222),
                (289.3872222222222 to 45.50361111111111),
                (292.3155555555556 to 52.03388888888889)
            ),
            positionalAngleDeg = 47.99055555555556,
            rotationAngleDeg = 0.0,
            datetime = "2001-09-11T22:00:00+02:00",
            longitude = 8.8036,
            latitude = 53.0577
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                80.0 to 124.0,
                527.0 to -298.0,
                -634.0 to 269.0,
                -344.0 to 259.0,
                -288.0 to 300.0,
                -69.0 to 351.0,
                -260.0 to -111.0,
                -25.0 to -79.0,
                189.0 to -257.0
            ),
            raDec = listOf(
                (raToDeg(0, 56, 50) to decToDeg(60, 43, 23)),
                (raToDeg(0, 9, 18) to decToDeg(59, 9, 27)),
                (raToDeg(1, 9, 50) to decToDeg(35, 37, 41)),
                (raToDeg(2, 34, 25) to decToDeg(89, 15, 58)),
                (raToDeg(23, 39, 30) to decToDeg(77, 38, 24)),
                (raToDeg(23, 8, 1) to decToDeg(75, 23, 44)),
                (raToDeg(22, 49, 47) to decToDeg(66, 12, 33)),
                (raToDeg(2, 29, 13) to decToDeg(67, 24, 21)),
                (raToDeg(1, 25, 56) to decToDeg(60, 14, 28)),
                (raToDeg(1, 38, 6) to decToDeg(48, 38, 4))
            ),
            azAltDeg = listOf(
                (228.30472222222224 to 50.87444444444444),
                (234.26444444444445 to 55.891666666666666),
                (255.03833333333333 to 34.71361111111111),
                (181.20305555555555 to 52.94333333333333),
                (199.75027777777777 to 58.67444444444444),
                (202.61027777777778 to 61.18861111111111),
                (221.16222222222223 to 65.42361111111111),
                (212.60055555555556 to 45.03111111111111),
                (226.5713888888889 to 47.44194444444444),
                (238.49777777777777 to 39.48583333333333)
            ),
            positionalAngleDeg = 50.87416666666667,
            rotationAngleDeg = 0.0,
            datetime = "2001-09-11T22:00:00+02:00",
            longitude = 8.8036,
            latitude = 53.0577
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                -336.0 to -30.0,
                -540.0 to 80.0,
                -532.0 to 177.0,
                -627.0 to 344.0,
                -565.0 to -280.0,
                236.0 to -161.0,
                621.0 to -312.0,
                35.0 to -370.0,
                -56.0 to -209.0
            ),
            raDec = listOf(
                (raToDeg(16, 37, 14) to decToDeg(-10, -34, -7)),
                (raToDeg(17, 10, 27) to decToDeg(-15, -43, -33)),
                (raToDeg(17, 37, 40) to decToDeg(-15, -23, -55)),
                (raToDeg(17, 41, 30) to decToDeg(-12, -52, -30)),
                (raToDeg(17, 59, 6) to decToDeg(-9, -46, -21)),
                (raToDeg(17, 22, 6) to decToDeg(-25, 0, 4)),
                (raToDeg(16, 4, 26) to decToDeg(-11, -22, -33)),
                (raToDeg(15, 17, 4) to decToDeg(-9, 23, 11)),
                (raToDeg(16, 12, 4) to decToDeg(-19, 27, 50)),
                (raToDeg(16, 31, 13) to decToDeg(-16, -36, -54))
            ),
            azAltDeg = listOf(
                (51.10638888888889 to 13.36361111111111),
                (41.3275 to 12.350277777777777),
                (35.23583333333333 to 15.170833333333333),
                (35.274166666666666 to 17.849444444444444),
                (32.075833333333335 to 22.223333333333333),
                (35.07638888888889 to 5.006111111111111),
                (57.80694444444444 to 8.690833333333334),
                (68.72416666666666 to 4.099166666666666),
                (52.06916666666667 to 2.818333333333333),
                (49.48713888888889 to 7.401666666666667)
            ),
            positionalAngleDeg = 13.36361111111111,
            rotationAngleDeg = 0.0,
            datetime = "2001-09-11T22:00:00+02:00",
            longitude = 8.8036,
            latitude = 53.0577
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                -320.0 to -104.0,
                -545.0 to -45.0,
                -558.0 to 50.0,
                267.0 to -104.0,
                -5.0 to -216.0
            ),
            raDec = listOf(
                (raToDeg(16, 37, 14) to decToDeg(-10, -34, -7)),
                (raToDeg(17, 10, 27) to decToDeg(-15, -43, -33)),
                (raToDeg(17, 37, 40) to decToDeg(-15, -23, -55)),
                (raToDeg(17, 41, 30) to decToDeg(-12, -52, -30)),
                (raToDeg(16, 4, 26) to decToDeg(-11, -22, -33)),
                (raToDeg(16, 31, 13) to decToDeg(-16, -36, -54))
            ),
            azAltDeg = listOf(
                (51.10638888888889 to 13.36361111111111),
                (41.3275 to 12.350277777777777),
                (35.23583333333333 to 15.170833333333333),
                (35.274166666666666 to 17.849444444444444),
                (57.80694444444444 to 8.690833333333334),
                (49.48713888888889 to 7.401666666666667)
            ),
            positionalAngleDeg = 13.36361111111111,
            rotationAngleDeg = 13.2,
            datetime = "2001-09-11T22:00:00+02:00",
            longitude = 8.8036,
            latitude = 53.0577
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                20.0 to 144.0,
                -423.0 to 89.0,
                -389.0 to 151.0,
                -191.0 to -211.0,
                9.0 to -84.0,
                277.0 to -157.0
            ),
            raDec = listOf(
                (raToDeg(0, 56, 50) to decToDeg(60, 43, 23)),
                (raToDeg(0, 9, 18) to decToDeg(59, 9, 27)),
                (raToDeg(23, 39, 30) to decToDeg(77, 38, 24)),
                (raToDeg(23, 8, 1) to decToDeg(75, 23, 44)),
                (raToDeg(2, 29, 13) to decToDeg(67, 24, 21)),
                (raToDeg(1, 25, 56) to decToDeg(60, 14, 28)),
                (raToDeg(1, 38, 6) to decToDeg(48, 38, 4))
            ),
            azAltDeg = listOf(
                (228.30472222222224 to 50.87444444444444),
                (234.26444444444445 to 55.891666666666666),
                (199.75027777777777 to 58.67444444444444),
                (202.61027777777778 to 61.18861111111111),
                (212.60055555555556 to 45.03111111111111),
                (226.5713888888889 to 47.44194444444444),
                (238.49777777777777 to 39.48583333333333)
            ),
            positionalAngleDeg = 50.87416666666667,
            rotationAngleDeg = 24.7,
            datetime = "2001-09-11T22:00:00+02:00",
            longitude = 8.8036,
            latitude = 53.0577
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                -40.0 to 72.0,
                -67.0 to 135.0,
                -158.0 to 183.0,
                -28.0 to -64.0,
                67.0 to -140.0,
                130.0 to -88.0
            ),
            raDec = listOf(
                (-175.8262063124464 to 56.895537760653596),
                (-166.20814127382457 to 55.825712602945146),
                (-158.75621715785744 to 54.79613850335306),
                (-152.85779774486713 to 49.189341059979895),
                (178.7933325131868 to 53.55743074349568),
                (165.8419685369602 to 56.25019982015028),
                (166.32148728767777 to 61.61829415624539)
            ),
            azAltDeg = listOf(
                (136.82783014355164 to 37.660628930100465),
                (133.3260702748559 to 42.37939385071622),
                (130.56562169453036 to 46.26678667729395),
                (121.32896043701027 to 48.62981213343864),
                (134.61938858310253 to 33.50344503519733),
                (141.69423928212842 to 28.4382609062455),
                (146.77375843368998 to 31.520055051682284)
            ),
            positionalAngleDeg = 37.660628930100465,
            rotationAngleDeg = 0.0,
            datetime = "2025-06-21T01:00:00+02:00",
            longitude = 12.511330555555556,
            latitude = 41.891930555555554
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                6.0 to 29.0,
                9.0 to 59.0,
                -195.0 to 96.0,
                -61.0 to 189.0,
                86.0 to -147.0,
                195.0 to -4.0
            ),
            raDec = listOf(
                (85.52461724038216 to -1.928582935605648),
                (84.3901664517072 to -1.185085683826202),
                (83.3406901386478 to -0.27959383404491883),
                (89.15184526409776 to 7.41200527238521),
                (81.63843917282759 to 6.373474095900103),
                (87.25434179203481 to -9.660053555497614),
                (78.95381161527125 to -8.17137824876126)
            ),
            azAltDeg = listOf(
                (-63.66633144772891 to 24.62279111099993),
                (-63.30163173925871 to 25.93604224296049),
                (-63.12134920310153 to 27.310732247039617),
                (-73.91911418351239 to 28.669888799887826),
                (-66.99480407708548 to 33.302426502591345),
                (-59.482280547113135 to 17.74363532290211),
                (-53.75495048954298 to 24.12209523933512)
            ),
            positionalAngleDeg = 24.62279111099993,
            rotationAngleDeg = 0.0,
            datetime = "2025-12-20T20:00:00-05:00",
            longitude = -73.96624722222222,
            latitude = 40.783427777777774
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                -252.0 to -4.0,
                -164.0 to -63.0,
                -44.0 to -84.0,
                77.0 to -132.0,
                55.0 to -53.0,
                -46.0 to 50.0
            ),
            raDec = listOf(
                (-49.427344981308615 to 45.37554701755496),
                (-41.49359050569821 to 30.335770069987966),
                (-48.18935224758337 to 34.0695781628537),
                (-54.21607707038781 to 40.341705420664816),
                (-63.561021017737694 to 45.19541187502586),
                (-56.39510745646462 to 46.82196918182439),
                (-43.53686728875576 to 44.034265147474954)
            ),
            azAltDeg = listOf(
                (123.69762319491491 to 33.68854999180795),
                (104.44173230232809 to 31.87276035905488),
                (111.58016004605395 to 29.02257632865423),
                (120.52193915321305 to 28.197314760808247),
                (129.1999596317587 to 24.996514452801463),
                (127.84444571351997 to 30.083764509409658),
                (120.0267836508043 to 36.901508969884965)
            ),
            positionalAngleDeg = 33.68854999180795,
            rotationAngleDeg = 0.0,
            datetime = "2025-12-20T20:00:00-05:00",
            longitude = -73.96624722222222,
            latitude = 40.783427777777774
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                -252.0 to -4.0,
                -164.0 to -63.0,
                -44.0 to -84.0,
                77.0 to -132.0,
                55.0 to -53.0,
                -46.0 to 50.0
            ),
            raDec = listOf(
                (-49.427344981308615 to 45.37554701755496),
                (-41.49359050569821 to 30.335770069987966),
                (-48.18935224758337 to 34.0695781628537),
                (-54.21607707038781 to 40.341705420664816),
                (-63.561021017737694 to 45.19541187502586),
                (-56.39510745646462 to 46.82196918182439),
                (-43.53686728875576 to 44.034265147474954)
            ),
            azAltDeg = listOf(
                (123.69762319491491 to 33.68854999180795),
                (104.44173230232809 to 31.87276035905488),
                (111.58016004605395 to 29.02257632865423),
                (120.52193915321305 to 28.197314760808247),
                (129.1999596317587 to 24.996514452801463),
                (127.84444571351997 to 30.083764509409658),
                (120.0267836508043 to 36.901508969884965)
            ),
            positionalAngleDeg = 33.68854999180795,
            rotationAngleDeg = 0.0,
            datetime = "2025-12-20T20:00:00-05:00",
            longitude = -73.96624722222222,
            latitude = 40.783427777777774
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                112.0 to -21.0,
                247.0 to -19.0,
                369.0 to 60.0,
                431.0 to 10.0,
                532.0 to 137.0,
                446.0 to 180.0
            ),
            raDec = listOf(
                (43.56342326182685 to 89.33901733092665),
                (-98.38065718978912 to 86.57411159972007),
                (-108.9644588791016 to 82.00591293063472),
                (-124.15079722310136 to 77.73927702928005),
                (-115.7632659789358 to 75.71393651758288),
                (-129.83599253169137 to 71.77093051512283),
                (-137.3469139146628 to 74.08286201087624)
            ),
            azAltDeg = listOf(
                (178.24806518165957 to 69.13332156238077),
                (-171.3095430943559 to 68.0244687329955),
                (-159.4863429952469 to 66.88133724640008),
                (-146.67008973414949 to 67.44632788793069),
                (-144.63290953966688 to 64.78186168288426),
                (-131.5913314072143 to 65.91867143626848),
                (-134.24003222990547 to 68.9425738664291)
            ),
            positionalAngleDeg = 69.13332156238077,
            rotationAngleDeg = 0.0,
            datetime = "2017-01-10T04:00:00+07:00",
            longitude = 88.20269722222223,
            latitude = 69.3535
        ),
        TestCase(
            pixelCoords = listOf(
                0.0 to 0.0,
                0.0 to -80.0,
                -39.0 to -192.0,
                -154.0 to -204.0,
                -168.0 to -40.0,
                -98.0 to 50.0
            ),
            raDec = listOf(
                (79.49275285733135 to 46.012382330382074),
                (75.92253440210064 to 41.097870216413256),
                (74.53028968034958 to 33.190008612368956),
                (81.8463953530845 to 28.61826356474606),
                (90.22529874003298 to 37.21006918451885),
                (90.20234972963218 to 44.942053804180624)
            ),
            azAltDeg = listOf(
                (95.74063227281681 to 48.0603687504495),
                (95.5661555606165 to 42.51237364253462),
                (92.35040094808852 to 34.935771960101874),
                (83.17097943962006 to 33.343286097938766),
                (79.56378289760664 to 44.068401274824375),
                (84.91546302070947 to 50.903843214884915)
            ),
            positionalAngleDeg = 48.0603687504495,
            rotationAngleDeg = 0.0,
            datetime = "2017-01-10T04:00:00+07:00",
            longitude = 88.20269722222223,
            latitude = 69.3535
        )

    )
}
